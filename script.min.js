"use strict";const header=document.querySelector(".header"),modal=document.querySelector(".modal"),overlay=document.querySelector(".overlay"),btnCloseModal=document.querySelector(".btn--close-modal"),btnsOpenModal=document.querySelectorAll(".btn--show-modal"),btnScrollTo=document.querySelector(".btn--scroll-to"),section1=document.querySelector("#section--1"),nav=document.querySelector(".nav"),navHeight=nav.getBoundingClientRect().height,tabs=document.querySelectorAll(".operations__tab"),tabsContainer=document.querySelector(".operations__tab-container"),tabsContent=document.querySelectorAll(".operations__content"),openModal=function(e){e.preventDefault(),modal.classList.remove("hidden"),overlay.classList.remove("hidden")},closeModal=function(){modal.classList.add("hidden"),overlay.classList.add("hidden")};btnsOpenModal.forEach(btn=>btn.addEventListener("click",openModal)),btnCloseModal.addEventListener("click",closeModal),overlay.addEventListener("click",closeModal),document.addEventListener("keydown",(function(e){"Escape"!==e.key||modal.classList.contains("hidden")||closeModal()})),btnScrollTo.addEventListener("click",(function(e){const s1coords=section1.getBoundingClientRect();window.scrollTo(s1coords.left+window.pageXOffset,s1coords.top+window.pageYOffset),window.scrollTo({left:s1coords.left+window.pageXOffset,top:s1coords.top+window.pageYOffset,behavior:"smooth"}),section1.scrollIntoView({behavior:"smooth"})})),document.querySelector(".nav__links").addEventListener("click",(function(e){if(console.log(e.target),e.preventDefault(),e.target.classList.contains("nav__link")){const id=e.target.getAttribute("href");console.log(id),document.querySelector(id).scrollIntoView({behavior:"smooth"})}})),tabsContainer.addEventListener("click",(function(e){const clicked=e.target.closest(".operations__tab");clicked&&(tabs.forEach(t=>t.classList.remove("operations__tab--active")),tabsContent.forEach(c=>c.classList.remove("operations__content--active")),clicked.classList.add("operations__tab--active"),document.querySelector(`.operations__content--${clicked.dataset.tab}`).classList.add("operations__content--active"))}));const handleHover=function(e){if(e.target.classList.contains("nav__link")){const link=e.target,siblings=link.closest(".nav").querySelectorAll(".nav__link"),logo=link.closest(".nav").querySelector("img");siblings.forEach(el=>{el!==link&&(el.style.opacity=this)}),logo.style.opacity=this}};nav.addEventListener("mouseover",handleHover.bind(.5)),nav.addEventListener("mouseout",handleHover.bind(1));const stickyNav=function(entries){const[entry]=entries;entry.isIntersecting?nav.classList.remove("sticky"):nav.classList.add("sticky")},headerObserver=new IntersectionObserver(stickyNav,{root:null,threshold:0,rootMargin:`-${navHeight}px`});headerObserver.observe(header);const allSections=document.querySelectorAll(".section");console.log(allSections);const revealSection=function(entries,observer){const[entry]=entries;entry.isIntersecting&&(entry.target.classList.remove("section--hidden"),observer.unobserve(entry.target))},sectionObserver=new IntersectionObserver(revealSection,{root:null,threshold:.15});allSections.forEach((function(section){sectionObserver.observe(section),section.classList.add("section--hidden")}));const imgTargets=document.querySelectorAll("img[data-src]"),loadImg=function(entries,observer){const[entry]=entries;entry.isIntersecting&&(entry.target.src=entry.target.dataset.src,entry.target.addEventListener("load",(function(){entry.target.classList.remove("lazy-img")})),observer.unobserve(entry.target))},imgObserver=new IntersectionObserver(loadImg,{root:null,threshold:0,rootMargin:"200px"});imgTargets.forEach(img=>imgObserver.observe(img));const slider=function(){const slides=document.querySelectorAll(".slide"),btnLeft=document.querySelector(".slider__btn--left"),btnRight=document.querySelector(".slider__btn--right");let curSlide=0;const maxSlide=slides.length,dotContainer=document.querySelector(".dots"),createDots=function(){slides.forEach((function(_,i){dotContainer.insertAdjacentHTML("beforeend",`<button class="dots__dot" data-slide="${i}"></button>`)}))},activateDot=function(slide){document.querySelectorAll(".dots__dot").forEach(dot=>dot.classList.remove("dots__dot--active")),document.querySelector(`.dots__dot[data-slide="${slide}"]`).classList.add("dots__dot--active")},goToSlide=function(slide){slides.forEach((s,i)=>s.style.transform=`translateX(${100*(i-slide)}%)`)},nextSlide=function(){curSlide===maxSlide-1?curSlide=0:curSlide++,goToSlide(curSlide),activateDot(curSlide)},prevSlide=function(){0===curSlide?curSlide=maxSlide-1:curSlide--,goToSlide(curSlide),activateDot(curSlide)},init=function(){createDots(),activateDot(0),goToSlide(0)};init(),btnRight.addEventListener("click",nextSlide),btnLeft.addEventListener("click",prevSlide),document.addEventListener("keydown",(function(e){"ArrowLeft"===e.key&&prevSlide(),"ArrowRight"===e.key&&nextSlide()})),dotContainer.addEventListener("click",(function(e){if(e.target.classList.contains("dots__dot")){const{slide:slide}=e.target.dataset;goToSlide(slide),activateDot(slide)}}))};slider(),document.addEventListener("DOMContentLoaded",(function(e){console.log("HTML parsed and DOM tree built!",e)}));